.jumbotron.text-center
	h1 Movie List
	p "{{ tagline }}"
h2 Your Movies

table.table.table-striped.table-bordered
	tr
		th Movie Details
		th Actions
	tr(ng-repeat='movie in movies')
		td
			form(editable-form='', name='editableForm', onaftersave='saveMovie($data, movie._id)')
				p.item
					span.movieTitle(movetitle='{{movie.title}}', editable-text='movie.title', e-name='title', onbeforesave='checkTitle($data)', e-required='') {{ movie.title || 'empty' }}
					span.movieYear(movieyear='{{movie.year}}', editable-number='movie.year', e-name='year', onbeforesave='checkYear($data)', e-min='1900', e-max='2050', e-required='') {{ movie.year || 'empty' }}
					span.movieDirector(moviedirector='{{movie.director}}', editable-text='movie.director', e-name='director', onbeforesave='checkDirector($data)', e-required='') {{ movie.director || 'empty' }}
					span(ng-show='editableForm.$visible')
						button.btn.btn-primary(type='submit', ng-disabled='editableForm.$waiting', ng-click='saveMovie(movie._id)') Save
						button.btn.btn-danger(type='button', ng-disabled='editableForm.$waiting', ng-click='delMovie(movie._id)') Delete
		td
					// button to show form
					button.btn.btn-default(type='button', ng-click='editableForm.$show()', ng-show='!editableForm.$visible') Edit
					// buttons to submit / cancel form and delete record
					span(ng-show='editableForm.$visible')
						button.btn.btn-default(type='button', ng-disabled='editableForm.$waiting', ng-click='editableForm.$cancel()') Cancel
						
hr
h3 Add New Movie
div.row
	form(name='inputForm', ng-submit='createMovie(inputForm.$valid)')
		input(placeholder='Title', ng-model='newMovieTitle', required='')
		input(placeholder='Year', type='number', min='1900', max='2050', ng-model='newMovieYear', required='')
		input(placeholder='Director', ng-model='newMovieDirector', required='')
		button.btn.btn-primary(type='submit', ng-disabled='inputForm.$invalid') Save
